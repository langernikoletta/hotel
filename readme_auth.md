# Проста аутентифікація та реєстрація

## Що зроблено
- Додані сторінки входу та реєстрації на базі стандартних форм Django.
- Додані маршрути: `/login/`, `/register/`, `/logout/`.
- Оновлено `base.html` з кнопками входу/реєстрації або виходу для авторизованих.

## Як запустити
1) Виконайте міграції (потрібні таблиці користувачів):
```bash
python hotel/manage.py migrate
```
2) Запустіть сервер:
```bash
python hotel/manage.py runserver
```

## URL-и
- Вхід: `/login/`
- Реєстрація: `/register/`
- Вихід: `/logout/`

## Примітки
- Після реєстрації користувач автоматично входить в систему.
- `LOGIN_URL`, `LOGIN_REDIRECT_URL`, `LOGOUT_REDIRECT_URL` прописані у `settings.py`.

## Пояснення від викладача (як працює код)
1) **Логін (`login_view`)**  
   - Використовує стандартну форму `AuthenticationForm`, яка перевіряє логін і пароль.  
   - Якщо користувач ввів коректні дані, відбувається `auth_login(request, user)`, і Django створює сесію.  
   - Далі є перевірка `next` — якщо користувач переходив на захищену сторінку, його повертає туди.

2) **Реєстрація (`register_view`)**  
   - Базується на `UserCreationForm`. Вона сама валідує пароль (довжина, складність тощо).  
   - Після `form.save()` користувач створюється в базі.  
   - Далі одразу викликається `auth_login`, щоб людина була залогінена без додаткового входу.

3) **Вихід (`logout_view`)**  
   - `auth_logout` видаляє сесію користувача.  
   - Після цього виконується редірект на головну сторінку.

4) **Маршрути (`urls.py`)**  
   - `/login/`, `/register/`, `/logout/` прив’язані до відповідних view.  
   - Це мінімальна схема, яку можна розширювати (наприклад, профіль або зміна пароля).

5) **Шаблони (`templates/auth/*.html`)**  
   - Формами керує Django, ми лише виводимо поля `{{ form.username }}`, `{{ form.password }}` тощо.  
   - Помилки валідації показуються під полями, щоб користувач бачив, що саме не так.

6) **Налаштування (`settings.py`)**  
   - `LOGIN_URL` — куди перенаправляє Django, якщо користувач не залогінений.  
   - `LOGIN_REDIRECT_URL` — куди потрапляє після успішного логіну.  
   - `LOGOUT_REDIRECT_URL` — куди потрапляє після виходу.
